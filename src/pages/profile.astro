---
import "../styles/dashboard.css";
import "../styles/nightmode.css";
---

<!DOCTYPE html>
<html lang="de">
  <head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Mein Profil - Wulfy</title>
	<style>
		.profile-picture-section {
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 1.5rem;
			padding: 2rem;
			background: var(--card-bg, #f9f9f9);
			border-radius: 12px;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
		}

		.profile-picture-container {
			position: relative;
		}

		.profile-picture {
			width: 200px;
			height: 200px;
			border-radius: 50%;
			object-fit: cover;
			border: 4px solid #4CAF50;
			background: #e0e0e0;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 4rem;
			color: #666;
		}

		.profile-picture-placeholder {
			width: 200px;
			height: 200px;
			border-radius: 50%;
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 5rem;
			color: white;
			font-weight: bold;
			border: 4px solid #4CAF50;
		}

		.upload-controls {
			display: flex;
			flex-direction: column;
			gap: 1rem;
			align-items: center;
		}

		.file-input-label {
			display: inline-block;
			padding: 0.75rem 2rem;
			background: #4CAF50;
			color: white;
			border-radius: 8px;
			cursor: pointer;
			transition: background 0.3s;
			font-weight: 500;
		}

		.file-input-label:hover {
			background: #45a049;
		}

		.file-input-label:active {
			transform: scale(0.98);
		}

		#profile-picture-input {
			display: none;
		}

		.btn-remove {
			padding: 0.5rem 1.5rem;
			background: #f44336;
			color: white;
			border: none;
			border-radius: 8px;
			cursor: pointer;
			transition: background 0.3s;
		}

		.btn-remove:hover {
			background: #da190b;
		}

		.profile-info-section {
			background: var(--card-bg, #f9f9f9);
			padding: 2rem;
			border-radius: 12px;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
		}

		.profile-info-section h2 {
			margin-bottom: 1.5rem;
			color: #333;
		}

		.info-item {
			display: flex;
			justify-content: space-between;
			padding: 0.75rem 0;
			border-bottom: 1px solid #e0e0e0;
		}

		.info-item:last-child {
			border-bottom: none;
		}

		.info-label {
			font-weight: 600;
			color: #555;
		}

		.info-value {
			color: #333;
		}

		.message {
			padding: 1rem;
			border-radius: 8px;
			margin-bottom: 1rem;
			display: none;
		}

		.message.success {
			background: #d4edda;
			color: #155724;
			border: 1px solid #c3e6cb;
		}

		.message.error {
			background: #f8d7da;
			color: #721c24;
			border: 1px solid #f5c6cb;
		}

		/* Night Mode */
		body.night-mode .profile-picture-section,
		body.night-mode .profile-info-section {
			background: #2a2a2a;
		}

		body.night-mode .profile-info-section h2,
		body.night-mode .info-value {
			color: #e0e0e0;
		}

		body.night-mode .info-label {
			color: #aaa;
		}

		body.night-mode .info-item {
			border-bottom-color: #444;
		}
	</style>
  </head>

  <body>
	<header>
	  <section class="navigation">
		<nav>
		  <ul>
			<li><a href="/">Startseite</a></li>
			<li><a href="/about">√úber mich</a></li>
			<li><a href="/projects">Projekte</a></li>
			<li><a href="/dashboard">Dashboard</a></li>
			<li><button id="nightModeBtn">Night Mode</button></li>
			<li><a href="/profile" class="btn-login active">Profil</a></li>
			<li><button id="logout-btn">Abmelden</button></li>
		  </ul>
		</nav>
	  </section>
	</header>

	<main class="dashboard-container">
	  <div class="dashboard-header">
		<h1>Mein Profil üë§</h1>
		<p>Verwalte deine Profilinformationen</p>
	  </div>

	  <div id="message" class="message"></div>

	  <div class="dashboard-content">
		<div class="dashboard-card profile-picture-section">
		  <h2>Profilbild</h2>
		  
		  <div class="profile-picture-container" id="profile-picture-container">
			<!-- Profilbild wird hier dynamisch eingef√ºgt -->
		  </div>

		  <div class="upload-controls">
			<label for="profile-picture-input" class="file-input-label">
			  üì∑ Bild ausw√§hlen
			</label>
			<input 
			  type="file" 
			  id="profile-picture-input" 
			  accept="image/*"
			/>
			<button id="remove-picture-btn" class="btn-remove" style="display: none;">
			  üóëÔ∏è Bild entfernen
			</button>
		  </div>
		  <p style="color: #666; font-size: 0.9rem; margin-top: 0.5rem;">
			Maximale Dateigr√∂√üe: 5 MB
		  </p>
		</div>

		<div class="dashboard-card profile-info-section">
		  <h2>Deine Informationen</h2>
		  <div class="info-item">
			<span class="info-label">Benutzername:</span>
			<span class="info-value" id="profile-username">-</span>
		  </div>
		  <div class="info-item">
			<span class="info-label">E-Mail:</span>
			<span class="info-value" id="profile-email">-</span>
		  </div>
		  <div class="info-item">
			<span class="info-label">Registriert seit:</span>
			<span class="info-value" id="profile-registered">-</span>
		  </div>
		  <div class="info-item" id="admin-status-container" style="display: none;">
			<span class="info-label">Status:</span>
			<span class="info-value" style="color: #f39c12; font-weight: bold;">üëë Administrator</span>
		  </div>
		</div>
	  </div>
	</main>

	<script src="../scripts/nightmode.js"></script>
	<script src="../scripts/profile.js"></script>
  </body>
</html>
